<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./CSS/main.css">
    <title>Document</title>
</head>
<body>
    <header>
        <p id="formattedDate"></p>
        <div>✨<span id="score">3000</span></div>
    </header>
    <main>
        <hr>
        <div id="profile-box">
            <a href="./mypage.html"><div class="profile-div"><img src="./img/profile1.png" style="width: 50px;"><span>•</span> 철호</div></a>
            <a href="./friend1.html"><div class="profile-div"><img src="./img/profile2.png" style="width: 50px;">&nbsp;영철</div></a>
            <a href="./friend3.html"><div class="profile-div"><img src="./img/profile3.png" style="width: 50px;">&nbsp;성래</div></a>
            <a href="./friend2.html"><div class="profile-div"><img src="./img/profile4.png" style="width: 50px;">&nbsp;유난</div></a>
            <a href="./friend5.html"><div class="profile-div"><img src="./img/profile5.png" style="width: 50px;">&nbsp;정훈</div></a>
        </div>
        <ul id="calendar1" class="calendar">
            <li>M</li>
            <li>T</li>
            <li>W</li>
            <li>T</li>
            <li>F</li>
            <li>S</li>
            <li>S</li>
        </ul>
        <ul id="calendar2" class="calendar">
            <li><img src="./img/moon1.png" style="width: 15px; height: 26px;"></li>
            <li><img src="./img/moon2.png" style="width: 15px; height: 26px;"></li>
            <li><img src="./img/moon3.png" style="width: 15px; height: 26px;"></li>
            <li><img src="./img/moon4.png" style="width: 15px; height: 26px;"></li>
            <li><img src="./img/moon5.png" style="width: 15px; height: 26px;"></li>
            <li><img src="./img/moon6.png" style="width: 15px; height: 26px;"></li>
            <li><img src="./img/moon7.png" style="width: 15px; height: 26px;"></li>
        </ul>
        <ul id="calendar3" class="calendar">
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>6</li>
            <li>7</li>
        </ul>
        <div id="check-container">
            <div id="check-label"></div>
        </div>
    </main>
    <footer>
        <a href="./shop.html"><img src="./img/shop.png" id="shop"></a>
        <div id="add" onclick="addCheckboxWithInput()">+</div>
        <a href="./mypage.html"><img src="./img/my.png" id="my"></a>
    </footer>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script>

        function formatYearMonthWeek() {
            const currentDate = new Date(2023, 9, 1);
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth() + 1;
            const dayOfWeek = currentDate.getDay();

            currentDate.setDate(1);
            currentDate.setDate(currentDate.getDate() - 7);

            const weekNumber = Math.floor((dayOfWeek + currentDate.getDate() - 1) / 7) + 1;
            const formattedDate = `${year}Y ${month}M ${weekNumber-1}W`;

            return formattedDate;
        }

        const formattedDate = formatYearMonthWeek();
        const formattedDateElement = document.getElementById('formattedDate');
        formattedDateElement.textContent = formattedDate;


        function addTotal(){
            let savedScore = $("#score").text();
            let result = parseInt(savedScore) + 150;
            $("#score").text(result);
        }

        function addCheckboxWithInput() {
            var checkbox = $('<input type="checkbox">');
            var label = $('<label class="editable" contenteditable="true">&nbsp;오늘의 목표를 적어주세요.</label><br>');
            $('#check-label').append(checkbox);
            $('#check-label').append(label);
            // $('#check-label').append(container);

            checkbox.on('click', function() {
                addTotal();
            });
        }
    </script>
</body>
</html>